============================= test session starts ==============================
platform linux -- Python 3.13.3, pytest-8.4.1, pluggy-1.6.0
rootdir: /workspace
plugins: anyio-4.9.0
collected 3 items / 1 error

==================================== ERRORS ====================================
____________ ERROR collecting test/test_backup_background_tasks.py _____________
test/test_backup_background_tasks.py:6: in <module>
    from backend.routes.backup import _create_backup_with_logging, _create_files_backup_with_logging
backend/routes/backup.py:4: in <module>
    from backend.auth import get_current_user, get_current_admin_user
backend/auth.py:18: in <module>
    raise ValueError("JWT_SECRET_KEY environment variable must be set")
E   ValueError: JWT_SECRET_KEY environment variable must be set
=============================== warnings summary ===============================
backend/models.py:56
  /workspace/backend/models.py:56: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    @validator('email')

backend/models.py:79
  /workspace/backend/models.py:79: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    @validator('email')

backend/models.py:83
  /workspace/backend/models.py:83: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    @validator('password')

backend/models.py:93
  /workspace/backend/models.py:93: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    @validator('email')

backend/models.py:124
  /workspace/backend/models.py:124: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    @validator('email')

backend/models.py:132
  /workspace/backend/models.py:132: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    @validator('new_password')

../home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_config.py:323
../home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_config.py:323
../home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_config.py:323
../home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_config.py:323
../home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_config.py:323
../home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_config.py:323
../home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_config.py:323
../home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_config.py:323
  /home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_config.py:323: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

../home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_generate_schema.py:298
../home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_generate_schema.py:298
  /home/ubuntu/.local/lib/python3.13/site-packages/pydantic/_internal/_generate_schema.py:298: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.11/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
ERROR test/test_backup_background_tasks.py - ValueError: JWT_SECRET_KEY envir...
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
======================== 16 warnings, 1 error in 0.56s =========================
